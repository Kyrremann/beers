---
layout: default
---


<div class="banner">
  <h1 class="banner-head">I have had beers from {{ site.data.countries | size }} different countries</h1>
</div>

<div class="l-content information">
  <div id="container" class="country-map"></div>

  <div class="pure-u-1" id="countries">
    <input class="search" placeholder="Filter">
    <table class="pure-table pure-table-striped" style="width: 100%;">
      <thead>
	<tr>
	  <th class="sort" data-sort="country">Country</th>
	  <th class="sort" data-sort="checkins" style="min-width: 3.4em;">checkins</th>
	  <th class="sort" data-sort="breweries">Breweries</th>
	</tr>
      </thead>
      <tbody class="list">
	{% for data in site.data.countries %}
  {% assign country = data[1] %}
	<tr>
	  <td class="country">
	    {{ country.name }}
	  </td>
	  <td valign="top" class="checkins">
	    {{ country.checkins }}
	  </td>
	  <td valign="top" class="breweries">
	    {{ country.breweries }}
	  </td>
	</tr>
	{% endfor %}
      </tbody>
    </table>
  </div>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src={{ "/js/datamaps.world.min.js" | prepend: site.baseurl }}></script>

<script>
  var map = new Datamap({
    scope: 'world',
    projection: 'equirectangular',
    element: document.getElementById('container'),
    geographyConfig: {
      highlightBorderColor: '#f6c101',
      highlightFillColor: '#fff897',
      popupTemplate: function(geography, data) {
        if (data) {
          return '<div class="hoverinfo">' + geography.properties.name + '<br />Breweries: ' +  data.breweries + '<br />Checkins: ' + data.checkins + '</div>'
        } else {
          return '<div class="hoverinfo">' + geography.properties.name + '</div>'
        }
      },
      highlightBorderWidth: 1
    },
    fills: {
      brewery: '#c96e12',
      defaultFill: '#eee'
    },
    data: {{ site.data.countries | jsonify }}
  });

  let options = {
    valueNames: [ "country", "checkins", "breweries" ]
  };

  let countries = new List("countries", options);
</script>
